<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi lista de productos - TuDespensa</title>

  <!-- Estilos globales (header, etc.) -->
  <link rel="stylesheet" href="../styles/landingStyles.css" />
  <!-- Estilos especÃ­ficos de esta pantalla -->
  <link rel="stylesheet" href="../styles/regProductStyles.css" />

  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />
</head>

<body>
  <!-- =============== HEADER =============== -->
  <header>
    <div class="header__logo1-container">
      <img
        src="../../public/Logo1.png"
        alt="Logo TuDespensa"
        class="header__logo1"
      />
    </div>

    <div class="header__right-section">
      <button class="header__start-button" id="header__start-button">
        Prueba TuDespensa
      </button>

      <button
        id="open-profile-options"
        class="header__profile-button"
        aria-haspopup="true"
        aria-expanded="false"
      >
        <img
          src="../assets/user.png"
          alt="Abrir menÃº de usuario"
          class="header__profile-icon"
        />
      </button>

      <nav class="header__user-menu" aria-label="MenÃº de usuario">
        <ul class="header__user-list">
          <li class="header__user-option">
            <a href="optionsPerUser.html">Mi panel</a>
          </li>
          <li class="header__user-option">
            <a href="logIn.html" id="logout-link">Cerrar sesiÃ³n</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- ================= MAIN ================= -->
  <main class="rp-main">
    <!-- Encabezado interno -->
    <section class="rp-header">
      <div class="rp-header-icon">ðŸ§¾</div>
      <div>
        <h1 class="rp-title">Mi lista de productos</h1>
        <p class="rp-subtitle">Gestiona tus productos fÃ¡cilmente</p>
      </div>
    </section>

    <!-- Grid de productos -->
    <section class="rp-grid-wrapper">
      <div id="rp-products-grid" class="rp-products-grid">
        <!-- Las cards se generan dinÃ¡micamente en registerProductScript.js -->
      </div>
    </section>

    <!-- Barra resumen -->
    <section class="rp-summary-bar">
      <div class="rp-summary-info">
        <span class="rp-summary-label">Total estimado:</span>
        <span id="rp-summary-total" class="rp-summary-value">$0</span>
      </div>
      <button
        type="button"
        id="rp-confirm-btn"
        class="rp-btn rp-btn-primary rp-summary-btn"
      >
        Confirmar mi lista
      </button>
    </section>

    <!-- BotÃ³n flotante para agregar producto -->
    <button
      type="button"
      id="rp-fab-add"
      class="rp-fab"
      aria-label="Agregar producto"
    >
      <img src="../assets/addButton.png" alt="Agregar" />
    </button>
  </main>

  <!-- =============== MODAL =============== -->
  <div id="rp-modal-backdrop" class="rp-modal-backdrop" aria-hidden="true">
    <div class="rp-modal" role="dialog" aria-modal="true">
      <div class="rp-modal-header">
        <h2 class="rp-modal-title" id="rp-modal-title">Agregar producto</h2>
        <button
          type="button"
          id="rp-modal-cancel"
          class="rp-modal-close"
          aria-label="Cerrar"
        >
          <img src="../assets/closeButton.png" alt="Cerrar" />
        </button>
      </div>

      <div class="rp-modal-body">
        <!-- Seleccionar producto existente -->
        <div class="rp-field">
          <label for="rp-product-select">Producto</label>
          <select id="rp-product-select">
            <option value="">Selecciona un productoâ€¦</option>
            <!-- Se llenarÃ¡ desde la API en el script -->
            <option value="__otro__">âž• Otro productoâ€¦</option>
          </select>
        </div>

        <!-- Campo para nombre personalizado -->
        <div
          class="rp-field rp-field-hidden"
          id="rp-custom-name-wrapper"
        >
          <label for="rp-custom-name">Nombre del producto</label>
          <input
            type="text"
            id="rp-custom-name"
            placeholder="Ej: Granola artesanal"
          />
        </div>

        <div class="rp-field rp-field-inline">
          <div>
            <label for="rp-product-qty">Cantidad</label>
            <input
              type="number"
              id="rp-product-qty"
              min="1"
              value="1"
              placeholder="1"
            />
          </div>
          <div>
            <label for="rp-product-price">Precio unitario (COP)</label>
            <input
              type="number"
              id="rp-product-price"
              min="0"
              step="50"
              placeholder="Ej: 5200"
            />
          </div>
        </div>
      </div>

      <div class="rp-modal-footer">
        <button
          type="button"
          id="rp-modal-cancel-footer"
          class="rp-btn rp-btn-secondary"
        >
          Cancelar
        </button>
        <button
          type="button"
          id="rp-modal-add"
          class="rp-btn rp-btn-primary"
        >
          Agregar
        </button>
      </div>
    </div>
  </div>

  <!-- ================= SCRIPTS ================= -->
  <script src="../scripts/landingScript.js"></script>
  <script src="../scripts/registerProductScript.js"></script>
</body>
</html>
